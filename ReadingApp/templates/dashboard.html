{% extends 'base.html'%}

{% block title %}
    Dashboard Page
{% endblock %}

{% block content %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.5.1/chart.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.0.3/d3.min.js"></script>



<div>
  <canvas id="myCanvas" width=".5" height=".5"></canvas>
</div>



<script>
d3.csv("/static/books.csv")
.then(makeChart);

function makeChart(data) {
    var canvas = document.getElementById("myCanvas");
    var titles = data.map(function(d) {return d.title;});
    var subjects = data.map(function(d) {return d.subject;});
    var hours = data.map(function(d) {return d.hours;});
    console.log(hours);


    new Chart(canvas, {
    type: 'bar',
    data: {
      labels: titles,
      datasets: [
        {
          data: hours
        }
      ]
    }
  });

    new Chart(document.getElementById("myCanvas"), {
  type: 'line',
  data: {
    labels: mon_unique,
    datasets: [{
        data: ab_val,
        label: "Alberta",
        borderColor: "#3e95cd",
        fill: false
      }
    ]
  },
  options: {
    title: {
      display: true,
      text: 'Positive Cases of COVID in provinces of Canada'
    },
    hover: {
     mode: 'index',
     intersect: true
    },
  }
});

}


</script>
{% endblock %}